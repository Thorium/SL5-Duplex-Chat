<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <title>Sl5-duplex-chat by Thorium</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Sl5-duplex-chat</h1>
        <h2>Silverlight 5 Chat: Full-duplex Publish/Subscribe -pattern on TCP/IP concept demo (WCF F# &amp; SL F#)</h2>

        <section id="downloads">
          <a href="https://github.com/Thorium/SL5-Duplex-Chat/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/Thorium/SL5-Duplex-Chat/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/Thorium/SL5-Duplex-Chat" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <p>Silverlight Chat</p>

<ul>
<li>Full-duplex TCP/IP concept demo. ("PollingDuplex")</li>
<li>Publish/Subscribe -pattern: Client registers to server and server sends (push based) events from other users.</li>
<li>Almost real-time communication with other users (/Silverlight clients)!</li>
<li>Database could be made, but it is optional: Now the server just forwards (/filters) the client messages to other clients.</li>
</ul><p>This is chat as a concept demo. The same concept could be used as for example multiplayer game (/multiuser software like Google Wave/Docs) with high interaction level between users. (Silverlight 5 works on Facebook, Windows Phone, ...) We could have one or many servers per user, so the user load could be distributed (eg. by location, game board coordinates, etc).</p>

<p>Development tool: Visual Studio 2012 RC (with Silverlight 5 SDK). Plugins: None.
IIS is used as host. I haven't tried with others. WCF Serialization in binary mode, can be read with Fiddler2.</p>

<p>Technology stack:</p>

<ul>
<li>F# (FSharp) as main language</li>
<li>WCF WebService ("PollingDuplex")</li>
<li>Silverlight 5 client</li>
</ul><p>This is quite much like the WebSocket concept which would propably work with the same source code, but different web.config for WCF service, but needs (Win8 based) IIS 8.</p>

<p>Setup:
1. Use Visual Studio 11 (RC) and have Silverlight 5 SDK
2. Set the WCFHost as start up project 
3. You may have to refererence FSharp core dll again (if you have a different version) 
4. From WCFHost project properties create virtual dir to IIS.
That's it.</p>

<p>Project structure (the interesting ones):</p>

<p>Servere side:</p>

<ul>
<li>WCFHost: (IIS VDir)

<ul>
<li>PushService.svc WCF WebService host</li>
<li>Chat.html: Silverlight host HTML page</li>
<li>Web.Config: Some configs</li>
</ul>
</li>
<li>ServiceLogics:

<ul>
<li>StreamClient.fs: Interface for push messages from server to client</li>
<li>PushService.svc.fs: WebService logics, interface for client to call server
Client side:</li>
</ul>
</li>
<li>DataClient

<ul>
<li>Generated service reference</li>
</ul>
</li>
<li>ClientLogics:

<ul>
<li>Commands.fs: Silverlight ICommands</li>
<li>ClientViewModel.fs: Client side ViewModel for UI</li>
</ul>
</li>
<li>SLClient:

<ul>
<li>MainPage.xaml: Silverlight UI</li>
</ul>
</li>
</ul><p>References / similar stuff:</p>

<ul>
<li><a href="http://msdn.microsoft.com/en-us/library/cc645027(v=vs.95).aspx">http://msdn.microsoft.com/en-us/library/cc645027(v=vs.95).aspx</a></li>
<li><a href="http://www.c-sharpcorner.com/uploadfile/pchandraker/http-duplex-messaging-in-silverlight-4/">http://www.c-sharpcorner.com/uploadfile/pchandraker/http-duplex-messaging-in-silverlight-4/</a></li>
<li><a href="http://weblogs.asp.net/dwahlin/archive/2011/02/06/syncing-data-with-a-server-using-silverlight-and-http-polling-duplex.aspx">http://weblogs.asp.net/dwahlin/archive/2011/02/06/syncing-data-with-a-server-using-silverlight-and-http-polling-duplex.aspx</a></li>
</ul>
      </section>
    </div>

    
  </body>
</html>